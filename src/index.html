<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluid Simulation Project</title>
    <link rel="stylesheet" href="styles.css">
    <!-- <link rel="icon" href="/images/favicon.png" type="image/png"> -->
</head>

<body>
    <canvas id="fluidCanvas"></canvas>
    <script src="./main.js" type="module"></script>
    <section id="project-description">
        <h1>Fluid Simulation</h1>
        <section id="background-information">
            <h2>Background Information</h2>
            <p class="background-text">
                The Lattice Boltzmann Method (LBM) is a numerical approach used for simulating fluid dynamics. It
                operates on a discretized lattice grid where each cell holds values for fluid density and velocity
                distributions. LBM differs from traditional computational fluid dynamics (CFD) methods, as it models the
                microscopic particle interactions rather than directly solving macroscopic fluid equations. By doing so,
                LBM is particularly well-suited for simulating complex fluid behavior and is efficiently parallelizable,
                making it a popular choice for GPU-based simulations.
            </p>
        </section>

        <section id="problem-domain">
            <h2>Problem Domain</h2>
            <em>To be filled out.</em>
        </section>

        <section id="algorithm-description">
            <h2>Algorithm Description</h2>
            <div class="pseudocode">
                <h3>Pseudocode</h3>
                <pre>
While simulation is running:
    Collision step (Relaxation)
    Streaming step (Propagate to neighboring cells)
    Apply boundary conditions
    Update macroscopic velocity and density
    Render the updated fluid field using Three.js
            </pre>
            </div>

            <div class="parallelization">
                <h3>Parallelization</h3>
                <ul>
                    <li>
                        <strong>Use Textures to Represent Fluid State:</strong> WebGL textures store the fluid’s
                        velocity distribution functions (<em>f<sub>i</sub></em>). Each pixel in the texture represents a
                        grid cell, with color values (RGBA channels) encoding the fluid state (velocity, density, etc.).
                    </li>
                    <li>
                        <strong>Fragment Shader for Parallel Computation:</strong> The LBM collision and streaming steps
                        are implemented as a fragment shader. WebGL’s parallel fragment processing allows computation of
                        the fluid simulation across the entire grid simultaneously.
                    </li>
                    <li>
                        <strong>Render to Textures:</strong> Instead of rendering directly to the screen, simulation
                        results are rendered to a texture using a framebuffer object. This enables updating the fluid
                        state for the next time step efficiently.
                    </li>
                    <li>
                        <strong>Use Three.js to Visualize:</strong> After each simulation step, Three.js is used to
                        visualize the updated fluid state by rendering the texture or particles.
                    </li>
                </ul>
            </div>
        </section>

        <section id="time-complexity-analysis">
            <h2>Time Complexity Analysis</h2>
            <em>To be filled out.</em>
        </section>
    </section>

    <section id="project-plan"> </section>
    <h1>Project Plan</h1>
    <p>We are going to create a web-based fluid simulator using WebGL and Three.js. We plan to implement fluid
        simulation using two different methods, and then we can compare their visual quality, performance, and ease of
        implementation.</p>
    <p>We will first implement fluid simulation based on the Lattice-Boltzmann equations and create a webpage where a
        user can interact with the simulation. We will then implement a version based on the Navier-Stokes equations,
        and add that to the webpage. This will let us do a comparative analysis between the methods, and we can
        summarize the differences in ease of implementation, performance, and visual quality.</p>
    <p>Our presentation will focus on their technical differences as well as the different applications for which they
        are suited.</p>

    <h2>References</h2>
    <ul>
        <li><a href="https://en.wikipedia.org/wiki/Navier%E2%80%93Stokes_equations" target="_blank">Navier-Stokes</a>
        </li>
        <li><a href="https://shahriyarshahrabi.medium.com/gentle-introduction-to-fluid-simulation-for-programmers-and-technical-artists-7c0045c40bac"
                target="_blank">Simulation Grid</a></li>
        <li><a href="https://www.reddit.com/r/threejs/comments/thx35q/water_simulation_in_three_js/"
                target="_blank">Reddit posts with past projects</a></li>
        <li><a href="https://github.com/PavelDoGreat/WebGL-Fluid-Simulation" target="_blank">Github for webgl 2D fluid
                simulation with pretty colors</a></li>
        <li><a href="https://www.divecae.com/resources/cfd-methods" target="_blank">Types of methods and their uses</a>
        </li>
        <li><a href="https://www.fidelisfea.com/post/navier-stokes-vs-lattice-boltzmann-for-cfd-a-comparative-analysis#:~:text=The%20Navier%2DStokes%20equations%20describe,fluid%20particles%20to%20macroscopic%20scales."
                target="_blank">Comparison of lattice-boltzmann and navier-stokes</a></li>
    </ul>

    <h2>Timeline</h2>
    <table border="1" cellpadding="10" cellspacing="0">
        <thead>
            <tr>
                <th>Week and Date</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Week 5 (9/24 - 9/26)</strong></td>
                <td>Set up project and research equations/algorithms</td>
            </tr>
            <tr>
                <td><strong>Week 6 (10/1 - 10/3)</strong></td>
                <td>Present Overview, Finish setup for project and make plan for implementation details</td>
            </tr>
            <tr>
                <td><strong>Week 7 (10/8 - 10/10)</strong></td>
                <td>Start coding Lattice-Boltzmann fluid sim</td>
            </tr>
            <tr>
                <td><strong>Week 8 (10/17)</strong></td>
                <td>Finish coding Lattice-Boltzmann fluid sim and test on webpage</td>
            </tr>
            <tr>
                <td><strong>Week 9 (10/22 - 10/24)</strong></td>
                <td>Start coding Navier-Stokes fluid sim</td>
            </tr>
            <tr>
                <td><strong>Week 10 (10/29 - 10/31)</strong></td>
                <td>Present Progress (10 min)</td>
            </tr>
            <tr>
                <td><strong>Week 11 (11/5 - 11/7)</strong></td>
                <td>Continue coding Navier-Stokes fluid sim</td>
            </tr>
            <tr>
                <td><strong>Week 12 (11/12 - 11/14)</strong></td>
                <td>Finish coding Navier-Stokes fluid sim</td>
            </tr>
            <tr>
                <td><strong>Week 13 (11/19 - 11/21)</strong></td>
                <td>Analysis and writeup for webpage</td>
            </tr>
            <tr>
                <td><strong>Week 14 (11/26)</strong></td>
                <td>Final Presentation (10 min), Analysis and writeup for webpage</td>
            </tr>
            <tr>
                <td><strong>Week 15 (12/3 - 12/5)</strong></td>
                <td>Present Final, Make presentation and present</td>
            </tr>
        </tbody>
    </table>


    <p>We suspect from our research that Navier-Stokes will take us longer to code, so we will try to start and finish
        Lattice-Boltzmann as early as possible (week 6 if we can finish the setup and research early enough). If we end
        up having more time towards the end, we will add tools to manipulate the fluid sims.</p>
</body>

</html>